// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Threading.Tasks;
using Azure;
using Azure.Core;
using Azure.Identity;
using Azure.ResourceManager;
using Azure.ResourceManager.Resources;
using Azure.ResourceManager.ServiceBus;
using Azure.ResourceManager.ServiceBus.Models;
using System.Text.Json;

#pragma warning disable CS8892 // Method 'UserAuthenticationSnippets.Main()' will not be used as an entry point because a synchronous entry point 'AutoGeneratedProgram.Main(string[])' was found.

ArmClient GetArmClient() => new ArmClient(new DefaultAzureCredential());
var subscriptionId = Environment.GetEnvironmentVariable("SUBSCRIPTION_ID") ?? "00000000-0000-0000-0000-000000000000";
var resourceGroupName = "test-changlong";
// api-version: 2021-11-01
// x-ms-original-file: specification/servicebus/resource-manager/Microsoft.ServiceBus/stable/2021-11-01/examples/NameSpaces/SBNameSpaceCreate.json
// Example: NameSpaceCreate

var resourceGroupResourceId = ResourceGroupResource.CreateResourceIdentifier(subscriptionId, resourceGroupName);
var resourceGroupResource = GetArmClient().GetResourceGroupResource(resourceGroupResourceId);
var collection = resourceGroupResource.GetServiceBusNamespaces();
var _ = collection.CreateOrUpdate(WaitUntil.Completed, "sdk-Namespace2924", new ServiceBusNamespaceData(new AzureLocation("South Central US"))
{
    Sku = new ServiceBusSku(ServiceBusSkuName.Standard)
    {
        Tier = ServiceBusSkuTier.Standard,
    },
    Tags =
{
["tag1"] = "value1",
["tag2"] = "value2",
},
});
Console.WriteLine(JsonSerializer.Serialize(_.Value.Data));

